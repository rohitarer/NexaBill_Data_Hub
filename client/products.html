<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Product List</title>
<link rel="stylesheet" href="css/styles.css" />
</head>
<body>
<nav>
<div class="logo">NexaBill Data Hub</div>
<ul>
<li><a href="index.html">Add Product</a></li>
<li><a href="products.html">View Products</a></li>
</ul>
</nav>


<main class="product-list-container">
<h1>All Products</h1>
<div id="productList" class="product-list"></div>
</main>


<script>
    const API_BASE = 'http://localhost:5001';
    window.onload = async () => {
      const res = await fetch(`${API_BASE}/api/products`);
      const products = await res.json();
      const list = document.getElementById('productList');
      list.innerHTML = '';
  
      products.forEach(product => {
        const card = document.createElement('div');
        card.className = 'product-card';
        card.innerHTML = `
          <img src="${API_BASE}/${product.image_path}" alt="${product.name}" />
          <div class="product-info">
            <h3>${product.name}</h3>
            <p><strong>Brand:</strong> ${product.brand}</p>
            <p><strong>MRP:</strong> â‚¹${product.mrp}</p>
            <p><strong>Weight:</strong> ${product.weight}</p>
            <p><strong>Flavor:</strong> ${product.flavor ?? '-'}</p>
            <p><strong>GST:</strong> ${product.gst}%</p>
          </div>
        `;
        list.appendChild(card);
      });
    }
  </script>
  
</body>
</html>